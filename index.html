<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Big Musiciens</title>
  <script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
  <script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.2/lodash.min.js'></script>
  <script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js'></script>
</head>
<body>
<ul id='musicians-list'></ul>
<script type="text/javascript">
  (function ($, Backbone) {
    var MusiciansModel = Backbone.Model.extend({
      default: {
        first_name: '',
        last_name: ''
      }
    });

    var MusiciansCollection = Backbone.Collection.extend({
      model: MusiciansModel
    });

    var musicians;

    $(function () {
      var main = function () {
        musicians = new MusiciansCollection();

        musicians.add(new MusiciansModel({id:1, first_name:'Maurice', last_name:'Andre'}));
        musicians.add(new MusiciansModel({id:2, first_name:'Louis', last_name:'Amstrong'}));
        musicians.add(new MusiciansModel({id:3, first_name:'Eric', last_name:'Aubier'}));
        musicians.add(new MusiciansModel({id:4, first_name:'Miles', last_name:'Davis'}));
        musicians.add(new MusiciansModel({id:5, first_name:'Arturo', last_name:'Sandoval'}));
        musicians.add(new MusiciansModel({id:6, first_name:'James', last_name:'Morrison'}));

        $('#waiting').remove();

        var $musiciansList = $('#musicians-list');

        // $musiciansList.empty();

        musicians.each(function (musician) {
          $musiciansList.append('<li><a href="musicians.php?id=' + musician.get('id') + '">'  + musician.get('first_name') + " " + musician.get('last_name') + '</a></li>');
        })
      };

      $('body').append('<h1 id="waiting">Merci de Patienter un moment</h1>');

      setTimeout(main, 2000);
    })


  })(jQuery, Backbone)
</script>
</body>
</html>
